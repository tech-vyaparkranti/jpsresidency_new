(()=>{const e=e=>{const t=window.location.search;return new URLSearchParams(t).get(e)};document.addEventListener("DOMContentLoaded",(()=>{hotel_settings&&hotel_settings.is_page_search||((()=>{const t=document.querySelectorAll(".hb-price-field");if(t)for(let r=0;r<t.length;r++){const n=t[r],o=n.getAttribute("data-min"),c=n.getAttribute("data-max");let a=n.getAttribute("data-step");if(""===o||""===c||""===a)continue;const i=n.querySelector(".hb-min-price"),l=n.querySelector(".hb-max-price"),s=n.querySelector(".hb-price-range"),p=e("min_price")||o,u=e("max_price")||c;a=parseInt(a),noUiSlider.create(s,{start:[parseInt(p),parseInt(u)],connect:!0,step:a,tooltips:!1,range:{min:parseInt(o),max:parseInt(c)}}),s.noUiSlider.on("update",(function(e,t,r){i.value=parseInt(e[0]),l.value=parseInt(e[1]),n.querySelector(".min").innerHTML=renderPrice(e[0]),n.querySelector(".max").innerHTML=renderPrice(e[1])})),n.querySelector("button.apply").addEventListener("click",(function(e){e.preventDefault();const t=i.value,r=l.value,n=new URL(window.location.href);n.searchParams.set("min_price",parseInt(t)),n.searchParams.set("max_price",parseInt(r)),window.location.href=n}))}})(),(()=>{const t=document.querySelectorAll(".hb-rating-field");if(t)for(let r=0;r<t.length;r++){const n=t[r],o=n.querySelectorAll('input[type="checkbox"]');let c=[];e("rating")&&(c=e("rating").split(",")),[...c].map((e=>{n.querySelector(`input[name ="rating"][value ="${e}"]`).checked=!0}));for(let e=0;e<o.length;e++)o[e].addEventListener("change",(function(e){const t=n.querySelectorAll('input[type="checkbox"]:checked');let r=[];[...t].map((e=>{r.push(e.value)}));const o=new URL(window.location.href);r.length?o.searchParams.set("rating",r):o.searchParams.delete("rating"),window.location.href=o}))}})(),(()=>{const t=document.querySelectorAll(".hb-type-field");if(t)for(let r=0;r<t.length;r++){const n=t[r],o=n.querySelectorAll('input[type="checkbox"]');let c=[];e("room_type")&&(c=e("room_type").split(",")),[...c].map((e=>{n.querySelector(`input[name ="room_type"][value ="${e}"]`).checked=!0}));for(let e=0;e<o.length;e++)o[e].addEventListener("change",(function(e){const t=n.querySelectorAll('input[type="checkbox"]:checked');let r=[];[...t].map((e=>{r.push(e.value)}));const o=new URL(window.location.href);r.length?o.searchParams.set("room_type",r):o.searchParams.delete("room_type",r),window.location.href=o}))}})(),(()=>{const e=document.querySelectorAll(".search-filter-form");if(e)for(let t=0;t<e.length;t++){const r=e[t].querySelector(".clear-filter button");if(!r)return;r.addEventListener("click",(function(){const e=new URL(window.location.href);["min_price","max_price","rating","room_type"].map((t=>{e.searchParams.get(t)&&e.searchParams.delete(t)})),window.location.href=e}))}})())}))})();